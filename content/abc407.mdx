---
title: ABC407
tags:
    - 後ろから見る
date: 2025-05-31
---

## 問題文

文字列$t$ははじめ空文字列であり、$t$に対して次の2つの操作を行うことができる。

- 操作A: $t$の末尾に0が追加される。
- 操作B: $t$に含まれるすべての数字が、それぞれ次の数字に置き換わる。ここで、0から8までの数字については次の数字は1大きな数を表す数字とし、9の次の数字は0とする。

文字列$S$が与えられる。$t$が空文字列である状態からボタンを0回以上押して$t$を$S$に一致させるとき、ボタンを最少で何回押す必要があるかを求めよ。
## 制約
- $S$は0, 1, 2, 3, 4, 5, 6, 7, 8, 9からなる文字列
- $1\leq∣S∣\leq5\times10^5$ ($|S|$は$S$の長さをあらわす)
## 考察
$S$から逆に操作を行い、空文字列にすると考える。愚直にシミュレーションを行うと、文字列全体から1を引く操作を繰り返す必要があり、計算量は$\mathrm{O}(N^2)$でTLEとなってしまう。そこで、計算量のネックである全体から1を引く操作の代わりに、操作$B$をこれまで何回行なったかを管理する。最初の文字列と、そのカウントさえわかれば、現在の文字列を復元することができる。

```python
S = list(input())

answer = 0
b_count = 0
while S != []:
        while True:
            d = (int(S[-1]) - b_count) % 10

            if d == 0:
                break
            else:
                answer += 1
                b_count += 1

        S.pop(-1)
        answer += 1

print(answer)
```

